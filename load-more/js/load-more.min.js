(function(a){const b={go:function(){const c=this;a('#loadMoreBtn').on('click',d=>{d.preventDefault();let f=a('#loadMoreBtn');f.text('Loading...');const g=this.getParams(f),h=this.getHref(g);a('<div />').load(h,function(){const j=a(this);c.loadNextPage(j),c.updateBtn(f,g)})})},getParams:function(c){return{paged:c.attr('data-paged'),max_pages:c.attr('data-maxpages'),per_page:c.attr('data-perpage'),found_posts:c.attr('data-foundposts'),search_param:c.attr('data-searchparam')}},getHref:function(c){return c.search_param?'?s='+c.search_param+'&paged='+c.paged:'?paged='+c.paged},loadNextPage:function(c){c.find('article').each(function(){const d=a('article'),f=d.length-1;a(this).insertAfter(d[f])})},updateBtn:function(c,d){if(!+d.paged||+d.paged>=+d.max_pages)c.hide();else{let f=+d.found_posts-+d.paged*+d.per_page;+d.per_page<+f&&(f=+d.per_page),1==f?c.text('Load 1 more article'):c.text('Load '+f+' more articles'),d.paged++,c.attr('data-paged',d.paged)}return!0}};a(document).ready(function(){b.go()})})(jQuery);
